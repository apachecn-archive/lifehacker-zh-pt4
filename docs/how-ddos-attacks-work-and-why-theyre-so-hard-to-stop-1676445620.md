# DDoS 攻击是如何工作的，以及为什么它们如此难以阻止

> 原文：<https://kotaku.com/how-ddos-attacks-work-and-why-theyre-so-hard-to-stop-1676445620>

上周，世界各地热切的圣诞庆祝者连接上他们全新的 Xboxes 和 PlayStations，却发现两个在线网络都瘫痪了，导致无数新游戏完全无法播放。

Watch

这是游戏玩家袜子里的一块特别大的煤，虽然微软的服务在 24 小时后恢复，但 PlayStation 网络遭受了持续两整天的长时间中断。即使在今天，我们仍能感受到它的影响；几乎一周后，PSN 的服务仍然断断续续多亏了 [索尼本周末所说的](http://blog.us.playstation.com/2014/12/27/playstation-network-update-3/) 是一种分布式拒绝服务(DDoS)攻击——一种旨在削弱网络服务器的故意流量泛滥。

一个名为蜥蜴小组的组织声称对此次袭击负责，尽管“是谁”似乎没有“如何”重要:这是如何发生的？是什么让 PlayStation Network 离线了这么久？索尼为何如此措手不及？他们如何防止这种情况再次发生？

尽管索尼在过去一周没有回应记者的多次置评请求，但我与两名网络安全分析师进行了交谈，试图至少对这种情况是如何发生的做出一个有根据的猜测。虽然没有索尼的直接消息，很难解析这一特定攻击的细节，但这些分析师明确了一件事:今天，阻止这类攻击比以往任何时候都更难。

云服务提供商[Akamai Technologies](http://www.akamai.com/)的产品营销总监丹·舒格鲁(Dan Shugrue)说:“DDoS 攻击比过去更大、更频繁，在某些情况下更难阻止，这有几个原因。虽然 Shugrue 不能对 PlayStation Network 攻击的细节发表评论，因为索尼是 Akamai 的客户，但他说，现在有越来越强大的工具，任何人都可以下载并使用它们来触发拒绝服务。

例如:高轨道离子炮(HOIC)，这是一款免费软件，任何人都可以用定制脚本创建的大量虚拟流量淹没网站。任何有电脑的人都可以下载这个程序，输入一个网站的网址，然后看着 HOIC 产生一个又一个的假用户，希望使该网站的服务器超载并瘫痪。当多人同时对同一个目标使用 HOIC 时，伤害会成倍增长。

然而，与像索尼这样价值数十亿美元的公司较量需要更复杂的方法。网络安全公司[Corero Network Security](http://www.corero.com/)的首席技术官大卫·拉森(David Larson)表示，他怀疑这次 PSN 攻击是某种 DDoS 工具组合的结果，其中可能包括僵尸网络——旨在连接和执行统一行动的计算机服务器集合。拉尔森说，任何人都可以租用僵尸网络——将僵尸网络和离子炮式的泛滥程序结合起来，可以在整个网络上造成巨大破坏。

想象一下:一千台电脑都使用相同的 DDoS 工具来生成无数的虚假账户，所有这些都以每秒数千千兆字节的数据淹没了同一个网站或服务器。“这非常简单，”拉森今天下午在电话里告诉我。“任何人都买得起；任何人都可以做到。”

拉森还指出，如果攻击者专门攻击 PlayStation Network 的登录服务器——识别和接受用户名和密码的服务器——而不是托管 PSN 内容的服务器，那么用虚假请求让索尼网络超载可能会更容易。为了做到这一点，攻击者可能操纵了外部域名系统(DNS)服务器——将域名转换为 IP 地址的服务器——来用数据阻塞 PlayStation 网络。互联网上充斥着这些服务器，其中许多很容易成为目标并被用于不法行为。

* * *

### “这非常简单。任何人都能负担得起；任何人都可以做到。”

* * *

“你可以下载免费软件工具，这些工具基本上是互联网上已知易受攻击的 DNS 服务器的数据库，”Larson 说。“我可以向易受攻击的 DNS 服务器发送请求，一个非常小的数据包请求。我可以说，‘你好，易受攻击的 DNS 服务器，我是 PlayStation 登录服务器——请给我发送一条记录。’该记录可能有几千字节长。因此，用一个更小的 64 字节的包，我可以请求数万字节的信息，而那个服务器将作出响应，就好像我是索尼网站，它将在索尼发送那个包。"

想象一下这种情况在一秒钟内发生数百次、数千次或数百万次，您会立即发现问题所在:即使是最先进的服务器一次也只能处理这么多流量。请求使计算机超载会使其变慢，甚至完全瘫痪，并且机器很难从伪造的流量中解析出真实的流量，尤其是当攻击者使用僵尸网络和伪造 IP 的某种组合时。

“对于知道如何获得和使用这些工具的人来说，你可以隐藏在一个小带宽连接上，并创造数百亿字节的流量，”拉森说。

但索尼以前也走过这条路。事实上，正如拉森指出的那样，像 Xbox Live 和 PSN 这样的网络至少每隔几个月就会遭到 DDoS 攻击。那么，他们是如何阻止这一次的呢？

“没有具体的细节，也不知道这次攻击是如何进行的，因为我们不在索尼，在我看来，如果你攻击的是登录服务器，你可以通过大量的请求做到这一点，实际上不会占用很多带宽，”拉森说。“如果你只是试图阻止对登录服务器的访问，那种饥饿或占领攻击无论是以欺骗的方式还是僵尸网络驱动的方式，都是相对低带宽的事情，可能会在 PlayStation Network 或 Xbox Live 这样的大规模网络上造成大规模中断。

“没有什么规模的网络是无法超越的——基本上，你可以超越任何规模的网络。”

索尼对高调的安全漏洞并不陌生，最近一次是在这次攻击和 12 月初索尼电影公司泄密事件之后，但时间跨度可以追溯到 2011 年，当时 PlayStation Network 遭受了一次重大黑客攻击，数百万用户的用户数据被泄露。所以很难相信他们没有为上周发生的事情做好准备。(当然，值得注意的是，DDoS 攻击不是安全漏洞——它只是流量的泛滥。)

但正如拉森解释的那样，这些攻击在过去几个月里变得越来越复杂，以至于最近在 2012 年或 2013 年安装的安全方法可能不再有效。

“人们处理这些攻击的历史方法之一是，他们注意到针对他们的峰值正在发生，他们看到了中断，然后他们与他们的提供商合作，做一些被称为‘黑洞化’的事情，”拉森说。“这意味着当他们发送(虚假流量)时，你只想把它扔到地上，你想把它扔掉。

* * *

### “现在的工具更有活力了。人类和人类的过程不够快，跟不上变化。”

* * *

“一年半前，DDoS 攻击是那种对你不利的事情——你注意到有 DDoS 攻击，然后你就销声匿迹，继续前进。现在的工具更有活力了。人类和人类流程的速度不够快，无法跟上这种变化——你需要一个基本上实时寻找和识别攻击的机器系统，然后立即采取行动应对它们。”

好的。那么，在我们进入 2015 年的今天，像索尼这样的公司如何阻止这样的攻击呢？

“最好的防御是有计划，”舒格鲁说。“公司需要 DDoS 攻击的操作手册，他们需要进行 DoS 练习，当然，他们需要在攻击发生之前调查 DDoS 缓解提供商的选择。如果没有适当的防御措施，在攻击者决定释放压力之前，很难恢复服务器的功能。”

Larson 建议任何运行网络的人使用几种安全措施来识别不寻常的流量模式并减轻损害。他还建议公司使用云服务，在 DDoS 攻击发生时可以卸载过多的流量，从而防止这些公司的网络不得不应对过载。

“我们建议人们采取措施保护他们的房屋，”拉森说。“也就是说，任何进入数据中心的 DDoS 流量，他们都应该能够在网络边缘立即处理。他们应该能够利用云解决方案，以便在发生这些大规模攻击、这些大规模过饱和事件时，你需要找到一个有带宽的地方来吸收、消除这些攻击，并将良好的流量传递给你。”

尚不清楚索尼使用了什么解决方案，我们也不太可能听到他们澄清这是什么类型的攻击以及他们采取了什么保护措施，但很明显，网络战正变得越来越强大。DDoS 攻击每个月都变得越来越复杂，一家安全公司 最近估计每小时大约有 28 次这样的大规模攻击*。未来很可怕。*

*“这是一类对互联网的安全威胁，通常需要采取具体的主动防御措施加以认真对待，因为它正在增长，”拉森说。“你在新闻中看到的 DDoS 与任何东西都有关联，不仅仅是 PlayStation 和 Xbox——民族国家，以及针对任何品牌的其他形式的恶作剧。我们看到的是 DDoS 越来越多地被用作各种利用活动的工具。”*

**顶图经* [*本 rad 可视化*](https://www.youtube.com/watch?v=hNjdBSoIa8k) *的 DDoS 攻击。**

**您可以通过*[*【jason@kotaku.com】*](mailto:jason@kotaku.com)*或在 Twitter 上通过*[*@ jasonschreier*](http://twitter.com/jasonschreier)*联系到本文作者。**
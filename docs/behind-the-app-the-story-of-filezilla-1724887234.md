# 应用背后:FileZilla 的故事

> 原文：<https://lifehacker.com/behind-the-app-the-story-of-filezilla-1724887234>

在我第一次安装新电脑时下载的应用程序中，有一个叫做 [FileZilla](https://filezilla-project.org/) 的简单的开源 FTP 客户端。对于我们这些经营过自己的小网站的人来说，这是网站管理员工具箱里的一个长期的主要工具。

Watch

尽管如此纯粹的功能性，但在使用 FileZilla 时，我还是忍不住感到怀旧。这让我想起了小时候尝试编写 HTML 代码，这样我就可以在自己的网站上发布很酷的图片和 gif。一旦代码编写完成，就该启动 FTP 软件并上传到服务器，这是发布的最后一步。如今，大多数网站都可以完全在 web 浏览器中设计和维护，但是我仍然随身带着 FileZilla 来修补我自己的项目。

FileZilla 是怎么来的？实际上，是学校的项目。我们采访了开发人员 Tim Kosse，了解他在大约 15 年前如何以及为什么创建 FileZilla。

#### 所以 FileZilla 实际上是作为一个学校项目开始的，对吗？你是想用现有软件解决你遇到的问题，还是灵感来自其他地方？

是的，这是大约 15 年前，我在学校最后一年计算机科学课程中的一个小组项目。我们在寻找一些有用的东西，既不是太琐碎也不是太大而无法实现，并且可以并行工作。遗憾的是，我不记得我们最终如何选定 FTP 客户端的细节了。

#### 你想出这个主意后，下一步是什么？

弄清楚如何实现每个 FTP 客户端需要的最基本的功能:连接到服务器，获取目录列表，当然还有上传和下载文件。

通过 GUI 设计，我们模仿了我们所知的其他图形 FTP 客户端的基本布局。对于支持的功能，我们使用了一些第三方 FTP 类。

在项目正式结束后，我继续工作，部分原因是我可以自己使用一个好的 FTP 客户端。渐渐地，我添加了新的功能，并修复了出现的漏洞。在某个时候，我还开始使用 FileZilla 服务器来补充客户机。

#### 你如何选择目标平台，忽略或等待哪些平台？

最初 FileZilla 仅用于 Windows，这是我们在开始项目时唯一有足够经验的平台。然而，在某种程度上，我想扩展到其他平台，尤其是 Linux。不幸的是，由于最初选择使用微软的 MFC 作为 GUI 库，支持其他平台将意味着完全重写。

2004 年初，我最终决定从头开始重新编写 FileZilla，因为旧的代码库变得越来越难以维护，添加新的特性很有可能会出问题。

经过一些研究，我最终选定了 [wxWidgets 库](https://www.wxwidgets.org/) ，并于 2014 年 3 月开始重写，最终在三年半后发布了 FileZilla 3.0.0 版本。我不仅严重低估了跨平台开发的复杂性，而且在这段时间里，我还必须维护旧版本，直到达到功能对等。此外，在此期间，我一直在改进 FileZilla 服务器。尽管如此，重写是成功的。

#### 你最大的障碍是什么，你是如何克服的？

它更像是一个无休止的不必要的减速带的集合，对我的阻碍最大。

FTP 是一个相当老的协议，有很多历史和遗留功能。FTP 的某些部分被详细指定，而其他部分则没有指定。在 FTP 中，不仅通常有不同的方法来实现相同的事情，不同的 FTP 软件还支持和使用不同的功能。

此外，FTP 对控制命令和数据传输使用单独的连接，这使得它很难在防火墙和 NAT 路由器后使用，这本身就是一个额外的挑战。

这导致了一些有趣的问题:例如，服务器可能无法正确实现某个特性，或者服务器前面的防火墙可能会阻塞某些命令。此外，FileZilla 可能是唯一使用这个命令的客户机。因此，FileZilla 不能用于与这样的服务器交换文件。

每当我使用额外的 FTP 特性或者改变 FileZilla 的操作方式时，几乎都会发生类似的事情。在这些情况下，我会花费大量的时间和精力来确定问题的根源。当其他开源 FTP 软件出现这种情况时，我通常会编写一个补丁来解决这个问题。

遗憾的是，这种情况经常发生在专有服务器、防火墙和 NAT 路由器上，我自己无法做任何事情来修复它，因此各个供应商必须解决这个问题。正是在这一点上，我最大的障碍在于:如何让别人相信问题出在第三方组件上，特别是考虑到它可以与其他 FTP 客户端或以前版本的 FileZilla 一起工作的不明反驳？

虽然我可以在这种情况下实现解决方案，但它们通常会带来沉重的成本和更多的复杂性。此外，根本问题仍未解决。

因此，我做了一个重要的决定:如果会损害安全性或性能，我不会实施任何变通办法。虽然 FileZilla 不要求服务器支持可选特性，但是如果服务器说它支持某个特定的特性，那么 FileZilla 反过来希望服务器正确处理它。

当然，有时这对受影响的用户来说是最不方便的，尤其是如果服务器或防火墙供应商不承认或不想解决这个问题。尽管如此，我坚信解决问题的根本原因是正确的做法。

#### 人们在选择 FTP 软件时有很多选择；在设计 FileZilla 时，哪些特性对你很重要？

在决定在 FileZilla 中实现一个新特性之前，我会看看一个图形化的 FTP 客户端是否是完成正确任务的正确工具。实现一个更适合其他类型程序的特性没有什么价值。自动化和脚本化传输就是这样一个例子，我认为这更适合简单的命令行客户端。

在决定实现一个新特性之后，有两个主要的设计考虑因素指导着新特性在 FileZilla 中的实现。

首先是可靠性。每个功能都需要在所有可以想象的使用场景中发挥作用。此外，我认为安全性也是可靠性的一个方面:安全漏洞可以被看作是软件做了超出预期的事情。换句话说，用户可以依赖 FileZilla 做它想做的事情，不多也不少。

第二个方面是性能和可伸缩性。自然 FileZilla 应该尽可能快，没有人喜欢在一个任务上等待不必要的时间。当实现一个特性时，我总是考虑如果有人将它用到极致会发生什么。例如，大多数用户可能只处理几千个文件，然而 FileZilla 被设计成处理包含数百万个文件的目录，总容量达数 TB。

#### 在它超越了学术目的之后,“发射”对你来说是什么样的？我猜这是一个缓慢的雪球，随着时间的推移，越来越多的人采用这个软件。

是的，最初的发布非常安静。我在 SourceForge 上注册了一个新项目，设置了项目描述，上传了第一个版本，然后就收工了。

最终，第一批用户试用了 FileZilla，并发送了宝贵的反馈。我一直在改进 FileZilla，反过来，随着每个版本的发布，用户群也在不断增长。我从没想过会有这么大的成功，但这让我有动力继续这个项目。如果有人在 2001 年告诉我，我将拥有数百万用户，我会说他疯了。

有趣的事实:2001 年的早期版本仍然可以在现代的 Windows 10 机器上运行。

#### 有没有任何想法试图出售它或以某种方式将其货币化？

我从未考虑过出售 FileZilla 作为一个可行的选择。毕竟，由于 FileZilla 是免费的开源软件，重新发布不仅被允许，而且被鼓励。

不过，我正在参与 SourceForge 的 DevShare 合作伙伴计划来创收。我知道有些用户反对捆绑销售，所以我给了所有用户选择的自由，捆绑安装程序的使用完全是可选的。

#### 你如何有效地处理用户的要求和批评？

用户反馈可以大致分为三类:问题报告、功能请求和一般帮助请求。

问题报告我马上分诊。如果这是 FileZilla 中的一个错误，它可能会在下一个版本中得到修复。

我发现保持一致的产品愿景很重要，所以功能需求会以不同的方式处理。许多特性会与产品愿景相垂直，实现它们会很快让 FileZilla 失去焦点。这已经过滤掉了许多特性请求。其余的被区分优先级并归档在特性请求跟踪器中，以便它们可以在某个时候被实现。

至于一般的帮助请求，虽然我没有时间亲自回答每一个这样的请求，但 FileZilla 论坛 是用户互相帮助的好地方。

#### 现在，如何在开发新功能和管理现有功能之间分配时间？

我总是希望在每一个新版本中都有一点这两者。平均来说，我会说我三分之二的开发时间花在实现新特性上。

然而，最近我花了很多时间在架构改进、现代化和清理大部分代码基础上。虽然 FileZilla 看起来还是和以前一样，但本质上已经发生了很多变化。这不仅极大地提高了 FileZilla 的性能，还应该使将来实现新特性变得更加容易。

#### 你会给那些想从事类似项目的人什么建议？

坚持不懈，保持敏锐的产品眼光。尽早发布，经常发布，找出你的关注点需要改进或者可以扩展的地方。最后但同样重要的是，为你自己使用你创造的东西。

* * *

应用背后的[<small></small>](http://lifehacker.com/behindtheapp)*<small>*让我们深入了解一些我们最喜爱的应用是如何诞生的——从创意到发布(以及其他)。有你想看到的人吗？邮箱*</small> [<small>*安迪*</small>](mailto:andy@lifehacker.com) <small>*。*</small>*